(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{7271:function(t,e,r){Promise.resolve().then(r.t.bind(r,231,23)),Promise.resolve().then(r.bind(r,81)),Promise.resolve().then(r.bind(r,9244)),Promise.resolve().then(r.bind(r,8574))},8204:function(t,e,r){"use strict";r.d(e,{Z:function(){return d}});var n=r(2265);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.filter((t,e,r)=>!!t&&""!==t.trim()&&r.indexOf(t)===e).join(" ").trim()},o=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),s=t=>{let e=i(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=t=>{for(let e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0;return!1},u=(0,n.forwardRef)((t,e)=>{let{color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:m,...h}=t;return(0,n.createElement)("svg",{ref:e,...c,width:o,height:o,stroke:r,strokeWidth:s?24*Number(i)/Number(o):i,className:a("lucide",u),...!d&&!l(h)&&{"aria-hidden":"true"},...h},[...m.map(t=>{let[e,r]=t;return(0,n.createElement)(e,r)}),...Array.isArray(d)?d:[d]])}),d=(t,e)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:c,...l}=r;return(0,n.createElement)(u,{ref:i,iconNode:e,className:a("lucide-".concat(o(s(t))),"lucide-".concat(t),c),...l})});return r.displayName=s(t),r}},4086:function(t,e,r){"use strict";r.d(e,{Z:function(){return n}});let n=(0,r(8204).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},6463:function(t,e,r){"use strict";var n=r(1169);r.o(n,"useRouter")&&r.d(e,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(e,{useSearchParams:function(){return n.useSearchParams}})},81:function(t,e,r){"use strict";r.d(e,{default:function(){return c}});var n=r(7437),a=r(2265),o=r(6463),i=r(1180),s=r(5686);function c(t){let{slug:e}=t,r=(0,o.useRouter)(),[c,l]=(0,a.useState)([]),[u,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(!0),[f,p]=(0,a.useState)(!1),[g,b]=(0,a.useState)(""),[w,y]=(0,a.useState)(""),x=(0,a.useCallback)(async()=>{h(!0),b("");try{let t=await (0,i.BC)(e,1,20);l(t.items)}catch(t){b("Unable to load comments.")}finally{h(!1)}},[e]);async function v(t){if(t.preventDefault(),b(""),y(""),!u.trim()){b("Comment cannot be empty.");return}let n=(0,s.v0)();if(!n){r.push("/blog/admin/auth");return}p(!0);try{await (0,i.QP)(n.accessToken,e,u.trim()),y("Comment posted successfully."),d(""),await x()}catch(t){b(t instanceof Error?t.message:"Unable to post comment.")}finally{p(!1)}}return(0,a.useEffect)(()=>{x()},[x]),(0,n.jsxs)("section",{className:"mt-8 rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Comments"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-300",children:"Login required to add a comment."}),(0,n.jsxs)("form",{onSubmit:v,className:"mt-4 space-y-3",children:[(0,n.jsx)("textarea",{value:u,onChange:t=>d(t.target.value),rows:3,placeholder:"Share your thoughts...",className:"w-full rounded-lg border border-white/20 bg-black/40 px-3 py-2 text-white outline-none"}),(0,n.jsx)("button",{type:"submit",disabled:f,className:"rounded-full bg-emerald-500 px-4 py-2 text-sm font-semibold text-black transition hover:bg-emerald-400 disabled:opacity-60",children:f?"Posting...":"Post Comment"})]}),g&&(0,n.jsx)("p",{className:"mt-3 text-sm text-rose-300",children:g}),w&&(0,n.jsx)("p",{className:"mt-3 text-sm text-emerald-300",children:w}),(0,n.jsx)("div",{className:"mt-6 space-y-3",children:m?(0,n.jsx)("p",{className:"text-sm text-gray-300",children:"Loading comments..."}):0===c.length?(0,n.jsx)("p",{className:"text-sm text-gray-300",children:"No comments yet."}):c.map(t=>(0,n.jsxs)("article",{className:"rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-white",children:t.userName}),(0,n.jsx)("span",{className:"text-xs text-gray-400",children:function(t){let e=new Date(t);return Number.isNaN(e.getTime())?"Recent":e.toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric"})}(t.createdAt)})]}),(0,n.jsx)("p",{className:"mt-2 text-sm text-gray-200",children:t.content})]},t.id))})]})}},9244:function(t,e,r){"use strict";r.d(e,{default:function(){return i}});var n=r(7437),a=r(6463),o=r(5686);function i(t){let{notesPdfUrl:e}=t,r=(0,a.useRouter)();return(0,n.jsxs)("div",{className:"mt-6 rounded-2xl border border-emerald-400/30 bg-emerald-500/10 p-4",children:[(0,n.jsx)("p",{className:"text-sm text-emerald-100",children:"Premium student notes are available in PDF format. Login is required to download."}),(0,n.jsx)("button",{type:"button",onClick:function(){if(!(0,o.v0)()){r.push("/blog/admin/auth");return}window.open(e,"_blank","noopener,noreferrer")},className:"mt-3 inline-flex items-center rounded-full bg-emerald-500 px-4 py-2 text-sm font-semibold text-black transition hover:bg-emerald-400",children:"Download Premium Notes PDF"})]})}},8574:function(t,e,r){"use strict";r.d(e,{default:function(){return c}});var n=r(7437),a=r(2265),o=r(4086),i=r(1180),s=r(8685);function c(){let[t,e]=(0,a.useState)(""),[r,c]=(0,a.useState)(""),[l,u]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1);async function p(t){if(h&&"serviceWorker"in navigator&&"PushManager"in window)try{var e,r;let n=await navigator.serviceWorker.register("/sw.js"),{publicKey:a}=await (0,i.w6)();if(!a)return;let o=await n.pushManager.getSubscription();o||(o=await n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){let e="=".repeat((4-t.length%4)%4),r=atob((t+e).replace(/-/g,"+").replace(/_/g,"/")),n=new Uint8Array(r.length);for(let t=0;t<r.length;t+=1)n[t]=r.charCodeAt(t);return n}(a)}));let s=o.toJSON();if(!s.endpoint||!(null===(e=s.keys)||void 0===e?void 0:e.p256dh)||!(null===(r=s.keys)||void 0===r?void 0:r.auth))return;await (0,i.jk)({email:t,enabled:!0,subscription:{endpoint:s.endpoint,keys:{p256dh:s.keys.p256dh,auth:s.keys.auth}}})}catch(t){}}async function g(r){if(r.preventDefault(),c(""),u(""),!t.trim()){u("Please enter email.");return}m(!0);try{await (0,i.uE)({email:t.trim(),source:"website"}),p(t.trim()),(0,s.s3)(),c("Subscribed successfully."),e("")}catch(t){u(t instanceof Error?t.message:"Unable to subscribe email.")}finally{m(!1)}}return(0,a.useEffect)(()=>{let t=()=>f(function(){let t=localStorage.getItem("site_cookie_preferences");if(!t)return!1;try{return!!JSON.parse(t).accepted}catch(t){return!1}}());return t(),window.addEventListener("cookie-preferences-updated",t),()=>window.removeEventListener("cookie-preferences-updated",t)},[]),(0,n.jsxs)("section",{className:"overflow-hidden rounded-3xl border border-emerald-400/20 bg-gradient-to-br from-emerald-500/10 via-slate-900 to-black p-5 sm:p-6",children:[(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-emerald-300/30 bg-emerald-500/20 text-emerald-200",children:(0,n.jsx)(o.Z,{className:"h-5 w-5"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Stay Updated"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-300",children:"Get new notes and article updates in your inbox."})]})]}),(0,n.jsxs)("form",{onSubmit:g,className:"mt-5 grid gap-2 sm:grid-cols-[1fr_auto]",children:[(0,n.jsx)("input",{value:t,onChange:t=>e(t.target.value),type:"email",placeholder:"Enter your email address",className:"h-11 w-full rounded-xl border border-white/20 bg-black/40 px-4 text-sm text-white outline-none ring-0 transition focus:border-emerald-300/60"}),(0,n.jsx)("button",{type:"submit",disabled:d,className:"h-11 rounded-xl bg-emerald-500 px-5 text-sm font-semibold text-black transition hover:bg-emerald-400 disabled:opacity-60",children:d?"Subscribing...":"Subscribe"})]}),l&&(0,n.jsx)("p",{className:"mt-3 text-sm text-rose-300",children:l}),r&&(0,n.jsx)("p",{className:"mt-3 text-sm text-emerald-300",children:r})]})}},1180:function(t,e,r){"use strict";var n;r.d(e,{BC:function(){return k},Cw:function(){return f},Dj:function(){return p},JQ:function(){return o},Mk:function(){return N},OW:function(){return c},QP:function(){return E},T:function(){return u},T6:function(){return i},TO:function(){return y},Uw:function(){return j},X2:function(){return d},dd:function(){return w},h9:function(){return g},jk:function(){return S},jw:function(){return m},lL:function(){return l},nf:function(){return h},rX:function(){return s},s9:function(){return b},uE:function(){return x},w6:function(){return v}});let a=null!==(n="http://localhost:5000".replace(/\/$/,""))&&void 0!==n?n:"http://localhost:5000";function o(){return a}async function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"no-store",o=new URLSearchParams({page:String(t),limit:String(e)});r.trim()&&o.set("q",r.trim());let i=await fetch("".concat(a,"/posts?").concat(o.toString()),{method:"GET",cache:n});if(!i.ok)throw Error("Unable to fetch posts");let s=await i.json();return Array.isArray(s)?{items:s,total:s.length,page:1,limit:e,totalPages:1}:s}async function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=await fetch("".concat(a,"/posts/admin/all?limit=").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!r.ok)throw Error("Unable to fetch admin posts");return await r.json()}async function c(t,e){let r=await fetch("".concat(a,"/posts/admin/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!r.ok)throw Error("Unable to fetch post");return await r.json()}async function l(t,e){let r=new FormData;r.append("file",e);let n=await fetch("".concat(a,"/posts/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:r});if(!n.ok)throw Error("Image upload failed");let o=await n.json();if(!o.url)throw Error("No image URL returned from server");return o.url}async function u(t,e){let r=new FormData;r.append("file",e);let n=await fetch("".concat(a,"/student-articles/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:r});if(!n.ok)throw Error("Image upload failed");let o=await n.json();if(!o.url)throw Error("No image URL returned from server");return o.url}async function d(t){let{token:e,...r}=t,n=await fetch("".concat(a,"/student-articles"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(r)});if(!n.ok){var o;throw Error(null!==(o=(await n.json()).message)&&void 0!==o?o:"Article submission failed")}return n.json()}async function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=new URLSearchParams({page:String(t),limit:String(e)});r.trim()&&n.set("q",r.trim());let o=await fetch("".concat(a,"/student-articles?").concat(n.toString()),{method:"GET",cache:"no-store"});if(!o.ok)throw Error("Unable to fetch student articles");return await o.json()}async function h(t){var e;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams;r.status&&n.set("status",r.status),r.page&&n.set("page",String(r.page)),r.limit&&n.set("limit",String(r.limit)),(null===(e=r.q)||void 0===e?void 0:e.trim())&&n.set("q",r.q.trim());let o=await fetch("".concat(a,"/student-articles/admin/all?").concat(n.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch student articles");return await o.json()}async function f(t,e,r){let n=await fetch("".concat(a,"/student-articles/admin/").concat(e,"/approve"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(null!=r?r:{})});if(!n.ok)throw Error("Unable to approve article");return n.json()}async function p(t,e){let r=await fetch("".concat(a,"/student-articles/admin/").concat(e,"/reject"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok)throw Error("Unable to reject article");return r.json()}async function g(t){let e=new FormData;e.append("file",t);let r=await fetch("".concat(a,"/tutor-applications/upload-resume"),{method:"POST",body:e});if(!r.ok)throw Error("Resume upload failed");let n=await r.json();if(!n.url)throw Error("No resume URL returned from server");return n.url}async function b(t){let e=await fetch("".concat(a,"/tutor-applications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){var r;throw Error(null!==(r=(await e.json()).message)&&void 0!==r?r:"Tutor application failed")}return e.json()}async function w(t){var e;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams;r.status&&n.set("status",r.status),r.page&&n.set("page",String(r.page)),r.limit&&n.set("limit",String(r.limit)),(null===(e=r.q)||void 0===e?void 0:e.trim())&&n.set("q",r.q.trim());let o=await fetch("".concat(a,"/tutor-applications/admin/all?").concat(n.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch tutor applications");return await o.json()}async function y(t,e,r){let n=await fetch("".concat(a,"/tutor-applications/admin/").concat(e,"/status"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw Error("Unable to update tutor application");return n.json()}async function x(t){let e=await fetch("".concat(a,"/subscribers/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){var r;throw Error(null!==(r=(await e.json()).message)&&void 0!==r?r:"Subscriber signup failed")}return e.json()}async function v(){let t=await fetch("".concat(a,"/subscribers/push-public-key"),{method:"GET",cache:"no-store"});if(!t.ok)throw Error("Unable to fetch push public key");return t.json()}async function S(t){let e=await fetch("".concat(a,"/subscribers/push"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){var r;throw Error(null!==(r=(await e.json()).message)&&void 0!==r?r:"Push subscription failed")}return e.json()}async function j(t){var e;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams;r.page&&n.set("page",String(r.page)),r.limit&&n.set("limit",String(r.limit)),(null===(e=r.q)||void 0===e?void 0:e.trim())&&n.set("q",r.q.trim());let o=await fetch("".concat(a,"/subscribers/admin/email?").concat(n.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch subscribers");return o.json()}async function N(t,e,r){let n=await fetch("".concat(a,"/subscribers/admin/email/").concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({isActive:r})});if(!n.ok)throw Error("Unable to update subscriber");return n.json()}async function k(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=new URLSearchParams({page:String(e),limit:String(r)}),o=await fetch("".concat(a,"/comments/post/").concat(encodeURIComponent(t),"?").concat(n.toString()),{method:"GET",cache:"no-store"});if(!o.ok)throw Error("Unable to fetch comments");return o.json()}async function E(t,e,r){let n=await fetch("".concat(a,"/comments/post/").concat(encodeURIComponent(e)),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({content:r})});if(!n.ok){var o;throw Error(null!==(o=(await n.json()).message)&&void 0!==o?o:"Unable to post comment")}return n.json()}},5686:function(t,e,r){"use strict";r.d(e,{DH:function(){return s},Gi:function(){return a},J1:function(){return o},v0:function(){return i}});let n="blog_admin_auth",a="blog-auth-changed";function o(t){localStorage.setItem(n,JSON.stringify(t)),window.dispatchEvent(new Event(a))}function i(){let t=localStorage.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch(t){return null}}function s(){localStorage.removeItem(n),window.dispatchEvent(new Event(a))}},8685:function(t,e,r){"use strict";r.d(e,{NJ:function(){return o},av:function(){return s},s3:function(){return i},vM:function(){return c}});let n="subscriber_opted_in",a="subscriber_exit_modal_dismissed";function o(){return"1"===localStorage.getItem(n)}function i(){localStorage.setItem(n,"1")}function s(){let t=Date.now()+864e5;localStorage.setItem(a,String(t))}function c(){let t=localStorage.getItem(a);if(!t)return!0;let e=Number(t);return!Number.isFinite(e)||Date.now()>e}}},function(t){t.O(0,[231,971,23,744],function(){return t(t.s=7271)}),_N_E=t.O()}]);