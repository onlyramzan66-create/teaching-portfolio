(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{1965:function(e,t,r){Promise.resolve().then(r.bind(r,6356))},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(231),a=r.n(n)},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},6356:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),a=r(2265),o=r(7138),s=r(6463),i=r(5686),l=r(1180);function c(){let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),[r,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)([]),[x,p]=(0,a.useState)([]),[f,b]=(0,a.useState)("pending"),[g,w]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[v,N]=(0,a.useState)(1),[S,k]=(0,a.useState)(1),[E,T]=(0,a.useState)(1),[P,C]=(0,a.useState)(1),[U,A]=(0,a.useState)(!1),[O,L]=(0,a.useState)(""),[D,R]=(0,a.useState)(""),[B,z]=(0,a.useState)("posts"),[I,J]=(0,a.useState)({}),q=(0,a.useMemo)(()=>"".concat((0,l.JQ)(),"/posts"),[]),G=(0,a.useCallback)(async e=>{A(!0),R("");try{let[t,r]=await Promise.all([(0,l.rX)(e,200),(0,l.nf)(e,{status:f,q:y,page:E,limit:10})]),n=g.trim()?t.filter(e=>"".concat(e.title," ").concat(e.excerpt," ").concat(e.content).toLowerCase().includes(g.trim().toLowerCase())):t,a=Math.max(1,Math.ceil(n.length/10)),o=Math.min(v,a),s=n.slice((o-1)*10,10*o);h(s),k(a),o!==v&&N(o),p(r.items),C(r.totalPages)}catch(e){R("Unable to load admin data.")}finally{A(!1)}},[10,10,y,E,g,v,f]);async function _(e){R(""),L("");try{if(!(await fetch("".concat(q,"/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}})).ok)throw Error("Delete failed");L("Post deleted successfully."),await G(r)}catch(e){R("Unable to delete post.")}}async function M(e){R(""),L("");try{let t=I[e];await (0,l.Cw)(r,e,t),L("Student article approved and published."),await G(r)}catch(e){R("Unable to approve student article.")}}async function F(e){R(""),L("");try{await (0,l.Dj)(r,e),L("Student article rejected."),await G(r)}catch(e){R("Unable to reject student article.")}}function H(e,t,r){J(n=>{var a;let o=null!==(a=n[e])&&void 0!==a?a:{seoTitle:"",seoDescription:"",canonicalUrl:"",seoImage:""};return{...n,[e]:{...o,[t]:r}}})}return(0,a.useEffect)(()=>{let t=(0,i.v0)();if(!t||"admin"!==t.user.role){e.replace("/blog/admin/auth");return}u(!0),c(t.accessToken),G(t.accessToken)},[G,e]),(0,a.useEffect)(()=>{r&&G(r)},[r,f,y,g,v,E,G]),(0,a.useEffect)(()=>{let e=t.get("saved");e&&L("Saved successfully: ".concat(e))},[t]),d?(0,n.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-black pt-24",children:(0,n.jsxs)("section",{className:"mx-auto max-w-7xl px-6 pb-16",children:[(0,n.jsxs)("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Admin Post Listing"}),(0,n.jsxs)("div",{className:"grid w-full grid-cols-2 gap-2 sm:flex sm:w-auto sm:gap-2",children:[(0,n.jsx)(o.default,{href:"/blog/admin/create",className:"rounded-full border border-blue-400/35 px-4 py-2 text-center text-sm font-semibold text-blue-300 transition hover:bg-blue-500/10",children:"Create Post"}),(0,n.jsx)(o.default,{href:"/blog/admin/tutors",className:"rounded-full border border-emerald-400/35 px-4 py-2 text-center text-sm font-semibold text-emerald-200 transition hover:bg-emerald-500/10",children:"Tutor Applications"}),(0,n.jsx)(o.default,{href:"/blog/admin/subscribers",className:"rounded-full border border-cyan-400/35 px-4 py-2 text-center text-sm font-semibold text-cyan-200 transition hover:bg-cyan-500/10",children:"Subscribers"}),(0,n.jsx)("button",{type:"button",onClick:function(){(0,i.DH)(),e.replace("/blog/admin/auth")},className:"rounded-full border border-rose-400/35 px-4 py-2 text-sm font-semibold text-rose-200 transition hover:bg-rose-500/10",children:"Logout"})]})]}),(0,n.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>z("posts"),className:"rounded-full px-4 py-2 text-sm font-semibold transition ".concat("posts"===B?"bg-emerald-500 text-black":"border border-white/25 text-white hover:bg-white/10"),children:"All Posts"}),(0,n.jsx)("button",{type:"button",onClick:()=>z("articles"),className:"rounded-full px-4 py-2 text-sm font-semibold transition ".concat("articles"===B?"bg-emerald-500 text-black":"border border-white/25 text-white hover:bg-white/10"),children:"Student Articles"})]}),(0,n.jsxs)("div",{className:"grid gap-6",children:["posts"===B&&(0,n.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[(0,n.jsxs)("div",{className:"mb-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-white sm:text-xl",children:"All Posts"}),(0,n.jsx)("input",{value:g,onChange:e=>{N(1),w(e.target.value)},placeholder:"Search posts...",className:"w-full rounded-lg border border-white/20 bg-black/40 px-3 py-2 text-sm text-white outline-none sm:w-56"})]}),U?(0,n.jsx)("p",{className:"text-sm text-gray-300",children:"Loading..."}):0===m.length?(0,n.jsx)("p",{className:"text-sm text-gray-300",children:"No posts found."}):(0,n.jsx)("div",{className:"space-y-3",children:m.map(e=>(0,n.jsxs)("div",{className:"rounded-xl border border-white/10 bg-black/20 p-3",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-white",children:e.title}),(0,n.jsx)("span",{className:"text-xs text-gray-300",children:e.isPublished?function(e){if(!e)return"-";let t=new Date(e);return Number.isNaN(t.getTime())?"-":t.toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric"})}(e.publishedAt):"Draft"})]}),(0,n.jsx)("p",{className:"mt-1 line-clamp-2 text-xs text-gray-300",children:e.excerpt||e.slug}),(0,n.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-2 sm:flex sm:flex-wrap",children:[(0,n.jsx)(o.default,{href:"/blog/admin/create?edit=".concat(e.id),className:"rounded-full bg-blue-500/20 px-3 py-1 text-center text-xs font-semibold text-blue-200",children:"Edit"}),(0,n.jsx)("button",{type:"button",onClick:()=>void _(e.id),className:"rounded-full bg-rose-500/20 px-3 py-1 text-xs font-semibold text-rose-200",children:"Delete"}),(0,n.jsx)(o.default,{href:"/blog/".concat(e.slug),className:"rounded-full border border-white/25 px-3 py-1 text-center text-xs font-semibold text-white",children:"View"})]})]},e.id))}),!U&&S>1&&(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>N(e=>Math.max(1,e-1)),disabled:v<=1,className:"rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white transition hover:bg-white/10 disabled:opacity-40",children:"Previous"}),(0,n.jsxs)("span",{className:"rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-gray-200",children:["Page ",v," of ",S]}),(0,n.jsx)("button",{type:"button",onClick:()=>N(e=>Math.min(S,e+1)),disabled:v>=S,className:"rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white transition hover:bg-white/10 disabled:opacity-40",children:"Next"})]})]}),"articles"===B&&(0,n.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[(0,n.jsxs)("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-white sm:text-xl",children:"Student Article Submissions"}),(0,n.jsxs)("div",{className:"grid w-full grid-cols-1 gap-2 sm:flex sm:w-auto sm:gap-2",children:[(0,n.jsxs)("select",{value:f,onChange:e=>{T(1),b(e.target.value)},className:"rounded-lg border border-white/20 bg-black/40 px-3 py-2 text-sm text-white outline-none",children:[(0,n.jsx)("option",{value:"pending",children:"Pending"}),(0,n.jsx)("option",{value:"approved",children:"Approved"}),(0,n.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,n.jsx)("input",{value:y,onChange:e=>{T(1),j(e.target.value)},placeholder:"Search student articles...",className:"w-full rounded-lg border border-white/20 bg-black/40 px-3 py-2 text-sm text-white outline-none sm:w-56"})]})]}),U?(0,n.jsx)("p",{className:"text-sm text-gray-300",children:"Loading..."}):0===x.length?(0,n.jsx)("p",{className:"text-sm text-gray-300",children:"No student submissions."}):(0,n.jsx)("div",{className:"space-y-3",children:x.map(e=>(0,n.jsx)("div",{className:"rounded-xl border border-white/10 bg-black/20 p-3",children:(()=>{var t;let r=null!==(t=I[e.id])&&void 0!==t?t:{seoTitle:e.seoTitle||"",seoDescription:e.seoDescription||"",canonicalUrl:e.canonicalUrl||"",seoImage:e.seoImage||e.imageUrl||""};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-white",children:e.title}),(0,n.jsx)("span",{className:"text-xs uppercase text-gray-300",children:e.status})]}),(0,n.jsxs)("p",{className:"mt-1 text-xs text-emerald-200",children:["By: ",e.studentName]}),(0,n.jsx)("p",{className:"mt-2 line-clamp-3 text-xs text-gray-300",children:e.article}),"pending"===e.status&&(0,n.jsxs)("div",{className:"mt-3 rounded-lg border border-white/10 p-2",children:[(0,n.jsx)("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-gray-300",children:"SEO Before Approve"}),(0,n.jsx)("input",{value:r.seoTitle,onChange:t=>H(e.id,"seoTitle",t.target.value),placeholder:"SEO Title (max 70)",className:"mb-2 w-full rounded-lg border border-white/20 bg-black/40 px-3 py-2 text-xs text-white outline-none",maxLength:70}),(0,n.jsx)("textarea",{value:r.seoDescription,onChange:t=>H(e.id,"seoDescription",t.target.value),placeholder:"SEO Description (max 180)",className:"mb-2 w-full rounded-lg border border-white/20 bg-black/40 px-3 py-2 text-xs text-white outline-none",rows:2,maxLength:180}),(0,n.jsx)("input",{value:r.canonicalUrl,onChange:t=>H(e.id,"canonicalUrl",t.target.value),placeholder:"Canonical URL (optional)",className:"mb-2 w-full rounded-lg border border-white/20 bg-black/40 px-3 py-2 text-xs text-white outline-none"}),(0,n.jsx)("input",{value:r.seoImage,onChange:t=>H(e.id,"seoImage",t.target.value),placeholder:"SEO Image URL (optional)",className:"w-full rounded-lg border border-white/20 bg-black/40 px-3 py-2 text-xs text-white outline-none"})]}),(0,n.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-2 sm:flex sm:flex-wrap",children:[e.imageUrl&&(0,n.jsx)("a",{href:e.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"rounded-full border border-white/25 px-3 py-1 text-center text-xs font-semibold text-white",children:"Image"}),e.notesPdfUrl&&(0,n.jsx)("a",{href:e.notesPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"rounded-full border border-white/25 px-3 py-1 text-center text-xs font-semibold text-white",children:"PDF"}),"pending"===e.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{type:"button",onClick:()=>void M(e.id),className:"rounded-full bg-emerald-500/20 px-3 py-1 text-xs font-semibold text-emerald-200",children:"Approve"}),(0,n.jsx)("button",{type:"button",onClick:()=>void F(e.id),className:"rounded-full bg-rose-500/20 px-3 py-1 text-xs font-semibold text-rose-200",children:"Reject"})]})]})]})})()},e.id))}),!U&&P>1&&(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>T(e=>Math.max(1,e-1)),disabled:E<=1,className:"rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white transition hover:bg-white/10 disabled:opacity-40",children:"Previous"}),(0,n.jsxs)("span",{className:"rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-gray-200",children:["Page ",E," of ",P]}),(0,n.jsx)("button",{type:"button",onClick:()=>T(e=>Math.min(P,e+1)),disabled:E>=P,className:"rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white transition hover:bg-white/10 disabled:opacity-40",children:"Next"})]})]})]}),D&&(0,n.jsx)("p",{className:"mt-4 rounded-lg bg-rose-500/15 px-4 py-3 text-sm text-rose-200",children:D}),O&&(0,n.jsx)("p",{className:"mt-4 rounded-lg bg-emerald-500/15 px-4 py-3 text-sm text-emerald-200",children:O})]})}):(0,n.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-black pt-24",children:(0,n.jsx)("section",{className:"mx-auto max-w-3xl px-6 pb-16",children:(0,n.jsx)("div",{className:"mt-6 rounded-2xl border border-amber-400/30 bg-amber-500/10 p-5 text-amber-100",children:(0,n.jsx)("p",{className:"text-sm",children:"Checking admin access..."})})})})}function d(){return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-black pt-24",children:(0,n.jsx)("section",{className:"mx-auto max-w-7xl px-6 pb-16",children:(0,n.jsx)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-gray-300",children:"Loading admin posts..."})})}),children:(0,n.jsx)(c,{})})}},1180:function(e,t,r){"use strict";var n;r.d(t,{BC:function(){return k},Cw:function(){return x},Dj:function(){return p},JQ:function(){return o},Mk:function(){return S},OW:function(){return l},QP:function(){return E},T:function(){return d},T6:function(){return s},TO:function(){return w},Uw:function(){return N},X2:function(){return u},dd:function(){return g},h9:function(){return f},jk:function(){return v},jw:function(){return m},lL:function(){return c},nf:function(){return h},rX:function(){return i},s9:function(){return b},uE:function(){return y},w6:function(){return j}});let a=null!==(n="http://localhost:5000".replace(/\/$/,""))&&void 0!==n?n:"http://localhost:5000";function o(){return a}async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"no-store",o=new URLSearchParams({page:String(e),limit:String(t)});r.trim()&&o.set("q",r.trim());let s=await fetch("".concat(a,"/posts?").concat(o.toString()),{method:"GET",cache:n});if(!s.ok)throw Error("Unable to fetch posts");let i=await s.json();return Array.isArray(i)?{items:i,total:i.length,page:1,limit:t,totalPages:1}:i}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=await fetch("".concat(a,"/posts/admin/all?limit=").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(e)},cache:"no-store"});if(!r.ok)throw Error("Unable to fetch admin posts");return await r.json()}async function l(e,t){let r=await fetch("".concat(a,"/posts/admin/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(e)},cache:"no-store"});if(!r.ok)throw Error("Unable to fetch post");return await r.json()}async function c(e,t){let r=new FormData;r.append("file",t);let n=await fetch("".concat(a,"/posts/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:r});if(!n.ok)throw Error("Image upload failed");let o=await n.json();if(!o.url)throw Error("No image URL returned from server");return o.url}async function d(e,t){let r=new FormData;r.append("file",t);let n=await fetch("".concat(a,"/student-articles/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:r});if(!n.ok)throw Error("Image upload failed");let o=await n.json();if(!o.url)throw Error("No image URL returned from server");return o.url}async function u(e){let{token:t,...r}=e,n=await fetch("".concat(a,"/student-articles"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)});if(!n.ok){var o;throw Error(null!==(o=(await n.json()).message)&&void 0!==o?o:"Article submission failed")}return n.json()}async function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=new URLSearchParams({page:String(e),limit:String(t)});r.trim()&&n.set("q",r.trim());let o=await fetch("".concat(a,"/student-articles?").concat(n.toString()),{method:"GET",cache:"no-store"});if(!o.ok)throw Error("Unable to fetch student articles");return await o.json()}async function h(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams;r.status&&n.set("status",r.status),r.page&&n.set("page",String(r.page)),r.limit&&n.set("limit",String(r.limit)),(null===(t=r.q)||void 0===t?void 0:t.trim())&&n.set("q",r.q.trim());let o=await fetch("".concat(a,"/student-articles/admin/all?").concat(n.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(e)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch student articles");return await o.json()}async function x(e,t,r){let n=await fetch("".concat(a,"/student-articles/admin/").concat(t,"/approve"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(null!=r?r:{})});if(!n.ok)throw Error("Unable to approve article");return n.json()}async function p(e,t){let r=await fetch("".concat(a,"/student-articles/admin/").concat(t,"/reject"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e)}});if(!r.ok)throw Error("Unable to reject article");return r.json()}async function f(e){let t=new FormData;t.append("file",e);let r=await fetch("".concat(a,"/tutor-applications/upload-resume"),{method:"POST",body:t});if(!r.ok)throw Error("Resume upload failed");let n=await r.json();if(!n.url)throw Error("No resume URL returned from server");return n.url}async function b(e){let t=await fetch("".concat(a,"/tutor-applications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){var r;throw Error(null!==(r=(await t.json()).message)&&void 0!==r?r:"Tutor application failed")}return t.json()}async function g(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams;r.status&&n.set("status",r.status),r.page&&n.set("page",String(r.page)),r.limit&&n.set("limit",String(r.limit)),(null===(t=r.q)||void 0===t?void 0:t.trim())&&n.set("q",r.q.trim());let o=await fetch("".concat(a,"/tutor-applications/admin/all?").concat(n.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(e)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch tutor applications");return await o.json()}async function w(e,t,r){let n=await fetch("".concat(a,"/tutor-applications/admin/").concat(t,"/status"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw Error("Unable to update tutor application");return n.json()}async function y(e){let t=await fetch("".concat(a,"/subscribers/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){var r;throw Error(null!==(r=(await t.json()).message)&&void 0!==r?r:"Subscriber signup failed")}return t.json()}async function j(){let e=await fetch("".concat(a,"/subscribers/push-public-key"),{method:"GET",cache:"no-store"});if(!e.ok)throw Error("Unable to fetch push public key");return e.json()}async function v(e){let t=await fetch("".concat(a,"/subscribers/push"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){var r;throw Error(null!==(r=(await t.json()).message)&&void 0!==r?r:"Push subscription failed")}return t.json()}async function N(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams;r.page&&n.set("page",String(r.page)),r.limit&&n.set("limit",String(r.limit)),(null===(t=r.q)||void 0===t?void 0:t.trim())&&n.set("q",r.q.trim());let o=await fetch("".concat(a,"/subscribers/admin/email?").concat(n.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(e)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch subscribers");return o.json()}async function S(e,t,r){let n=await fetch("".concat(a,"/subscribers/admin/email/").concat(t),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({isActive:r})});if(!n.ok)throw Error("Unable to update subscriber");return n.json()}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=new URLSearchParams({page:String(t),limit:String(r)}),o=await fetch("".concat(a,"/comments/post/").concat(encodeURIComponent(e),"?").concat(n.toString()),{method:"GET",cache:"no-store"});if(!o.ok)throw Error("Unable to fetch comments");return o.json()}async function E(e,t,r){let n=await fetch("".concat(a,"/comments/post/").concat(encodeURIComponent(t)),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({content:r})});if(!n.ok){var o;throw Error(null!==(o=(await n.json()).message)&&void 0!==o?o:"Unable to post comment")}return n.json()}},5686:function(e,t,r){"use strict";r.d(t,{DH:function(){return i},Gi:function(){return a},J1:function(){return o},v0:function(){return s}});let n="blog_admin_auth",a="blog-auth-changed";function o(e){localStorage.setItem(n,JSON.stringify(e)),window.dispatchEvent(new Event(a))}function s(){let e=localStorage.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function i(){localStorage.removeItem(n),window.dispatchEvent(new Event(a))}}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=1965)}),_N_E=e.O()}]);