(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{8639:function(t,e,n){Promise.resolve().then(n.bind(n,7176))},7138:function(t,e,n){"use strict";n.d(e,{default:function(){return a.a}});var r=n(231),a=n.n(r)},7176:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var r=n(7437),a=n(2265),o=n(7138),i=n(1180),s=n(4758);function c(){let[t,e]=(0,a.useState)([]),[n,c]=(0,a.useState)(1),[l]=(0,a.useState)(6),[u,d]=(0,a.useState)(1),[m,h]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[b,g]=(0,a.useState)(!0),[w,x]=(0,a.useState)("");return(0,a.useEffect)(()=>{let t=!0;return async function(){g(!0),x("");try{let r=await (0,i.jw)(n,l,f);if(!t)return;e(r.items),d(r.totalPages)}catch(e){if(!t)return;x("Student articles are temporarily unavailable.")}finally{t&&g(!1)}}(),()=>{t=!1}},[n,l,f]),(0,r.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-black pt-24",children:(0,r.jsxs)("section",{className:"mx-auto max-w-7xl px-6 pb-16",children:[(0,r.jsxs)("div",{className:"mb-8 flex flex-wrap items-end justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white md:text-5xl",children:"Student Articles"}),(0,r.jsx)("p",{className:"mt-2 max-w-2xl text-sm text-gray-300 md:text-base",children:"Approved student submissions published by our admin team."})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault(),c(1),p(m.trim())},className:"flex items-center gap-2",children:[(0,r.jsx)("input",{value:m,onChange:t=>h(t.target.value),placeholder:"Search articles...",className:"w-52 rounded-full border border-white/20 bg-black/30 px-4 py-2 text-sm text-white outline-none"}),(0,r.jsx)("button",{type:"submit",className:"rounded-full border border-white/20 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/10",children:"Search"})]}),(0,r.jsx)(o.default,{href:"/blog/student-submit",className:"rounded-full bg-emerald-500 px-4 py-2 text-sm font-semibold text-black transition hover:bg-emerald-400",children:"Submit Article"}),(0,r.jsx)(s.default,{})]})]}),b&&(0,r.jsx)("p",{className:"text-sm text-gray-300",children:"Loading articles..."}),!b&&w&&(0,r.jsx)("p",{className:"rounded-lg bg-rose-500/15 px-4 py-3 text-sm text-rose-200",children:w}),!b&&!w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(t=>(0,r.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#0f172a]/80 overflow-hidden",children:[(0,r.jsx)("div",{className:"h-48 w-full bg-slate-800/80",children:t.imageUrl?(0,r.jsx)("img",{src:t.imageUrl,alt:t.title,className:"h-full w-full object-cover"}):(0,r.jsx)("div",{className:"flex h-full w-full items-center justify-center text-xs text-slate-300",children:"Article Image"})}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("p",{className:"text-xs uppercase tracking-wide text-emerald-300",children:["By ",t.studentName]}),(0,r.jsx)("h2",{className:"mt-2 line-clamp-2 text-xl font-bold text-white",children:t.title}),(0,r.jsx)("p",{className:"mt-2 line-clamp-3 text-sm text-gray-300",children:t.article}),(0,r.jsxs)("p",{className:"mt-3 text-xs text-gray-400",children:["Published ",function(t){if(!t)return"Recent";let e=new Date(t);return Number.isNaN(e.getTime())?"Recent":e.toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric"})}(t.approvedAt)]})]})]},t.id))}),(0,r.jsxs)("div",{className:"mt-8 flex items-center justify-center gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>c(t=>Math.max(1,t-1)),disabled:n<=1,className:"rounded-full border border-white/20 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/10 disabled:opacity-40",children:"Previous"}),(0,r.jsxs)("span",{className:"rounded-full border border-white/20 px-4 py-2 text-sm font-semibold text-gray-200",children:["Page ",n," of ",Math.max(1,u)]}),(0,r.jsx)("button",{type:"button",onClick:()=>c(t=>Math.min(u,t+1)),disabled:n>=u,className:"rounded-full border border-white/20 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/10 disabled:opacity-40",children:"Next"})]})]})]})})}},4758:function(t,e,n){"use strict";n.d(e,{default:function(){return s}});var r=n(7437),a=n(2265),o=n(1180),i=n(8685);function s(){let[t,e]=(0,a.useState)(""),[n,s]=(0,a.useState)(!1),[c,l]=(0,a.useState)(""),[u,d]=(0,a.useState)("");async function m(n){if(n.preventDefault(),l(""),d(""),!t.trim()){l("Enter email.");return}s(!0);try{await (0,o.uE)({email:t.trim(),source:"blog-inline"}),(0,i.s3)(),d("Subscribed."),e("")}catch(t){l(t instanceof Error?t.message:"Unable to subscribe.")}finally{s(!1)}}return(0,r.jsxs)("div",{children:[(0,r.jsxs)("form",{onSubmit:m,className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center",children:[(0,r.jsx)("input",{value:t,onChange:t=>e(t.target.value),type:"email",placeholder:"Email address",className:"h-10 w-full min-w-0 rounded-full border border-white/20 bg-black/30 px-4 text-sm text-white outline-none sm:w-56"}),(0,r.jsx)("button",{type:"submit",disabled:n,className:"h-10 rounded-full bg-emerald-500 px-4 text-sm font-semibold text-black transition hover:bg-emerald-400 disabled:opacity-60",children:n?"Subscribing...":"Subscribe"})]}),c&&(0,r.jsx)("p",{className:"mt-1 text-xs text-rose-300",children:c}),u&&(0,r.jsx)("p",{className:"mt-1 text-xs text-emerald-300",children:u})]})}},1180:function(t,e,n){"use strict";var r;n.d(e,{BC:function(){return E},Cw:function(){return f},Dj:function(){return p},JQ:function(){return o},Mk:function(){return N},OW:function(){return c},QP:function(){return k},T:function(){return u},T6:function(){return i},TO:function(){return x},Uw:function(){return S},X2:function(){return d},dd:function(){return w},h9:function(){return b},jk:function(){return v},jw:function(){return m},lL:function(){return l},nf:function(){return h},rX:function(){return s},s9:function(){return g},uE:function(){return y},w6:function(){return j}});let a=null!==(r="http://localhost:5000".replace(/\/$/,""))&&void 0!==r?r:"http://localhost:5000";function o(){return a}async function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"no-store",o=new URLSearchParams({page:String(t),limit:String(e)});n.trim()&&o.set("q",n.trim());let i=await fetch("".concat(a,"/posts?").concat(o.toString()),{method:"GET",cache:r});if(!i.ok)throw Error("Unable to fetch posts");let s=await i.json();return Array.isArray(s)?{items:s,total:s.length,page:1,limit:e,totalPages:1}:s}async function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=await fetch("".concat(a,"/posts/admin/all?limit=").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!n.ok)throw Error("Unable to fetch admin posts");return await n.json()}async function c(t,e){let n=await fetch("".concat(a,"/posts/admin/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!n.ok)throw Error("Unable to fetch post");return await n.json()}async function l(t,e){let n=new FormData;n.append("file",e);let r=await fetch("".concat(a,"/posts/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:n});if(!r.ok)throw Error("Image upload failed");let o=await r.json();if(!o.url)throw Error("No image URL returned from server");return o.url}async function u(t,e){let n=new FormData;n.append("file",e);let r=await fetch("".concat(a,"/student-articles/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:n});if(!r.ok)throw Error("Image upload failed");let o=await r.json();if(!o.url)throw Error("No image URL returned from server");return o.url}async function d(t){let{token:e,...n}=t,r=await fetch("".concat(a,"/student-articles"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(n)});if(!r.ok){var o;throw Error(null!==(o=(await r.json()).message)&&void 0!==o?o:"Article submission failed")}return r.json()}async function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=new URLSearchParams({page:String(t),limit:String(e)});n.trim()&&r.set("q",n.trim());let o=await fetch("".concat(a,"/student-articles?").concat(r.toString()),{method:"GET",cache:"no-store"});if(!o.ok)throw Error("Unable to fetch student articles");return await o.json()}async function h(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new URLSearchParams;n.status&&r.set("status",n.status),n.page&&r.set("page",String(n.page)),n.limit&&r.set("limit",String(n.limit)),(null===(e=n.q)||void 0===e?void 0:e.trim())&&r.set("q",n.q.trim());let o=await fetch("".concat(a,"/student-articles/admin/all?").concat(r.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch student articles");return await o.json()}async function f(t,e,n){let r=await fetch("".concat(a,"/student-articles/admin/").concat(e,"/approve"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(null!=n?n:{})});if(!r.ok)throw Error("Unable to approve article");return r.json()}async function p(t,e){let n=await fetch("".concat(a,"/student-articles/admin/").concat(e,"/reject"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});if(!n.ok)throw Error("Unable to reject article");return n.json()}async function b(t){let e=new FormData;e.append("file",t);let n=await fetch("".concat(a,"/tutor-applications/upload-resume"),{method:"POST",body:e});if(!n.ok)throw Error("Resume upload failed");let r=await n.json();if(!r.url)throw Error("No resume URL returned from server");return r.url}async function g(t){let e=await fetch("".concat(a,"/tutor-applications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){var n;throw Error(null!==(n=(await e.json()).message)&&void 0!==n?n:"Tutor application failed")}return e.json()}async function w(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new URLSearchParams;n.status&&r.set("status",n.status),n.page&&r.set("page",String(n.page)),n.limit&&r.set("limit",String(n.limit)),(null===(e=n.q)||void 0===e?void 0:e.trim())&&r.set("q",n.q.trim());let o=await fetch("".concat(a,"/tutor-applications/admin/all?").concat(r.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch tutor applications");return await o.json()}async function x(t,e,n){let r=await fetch("".concat(a,"/tutor-applications/admin/").concat(e,"/status"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw Error("Unable to update tutor application");return r.json()}async function y(t){let e=await fetch("".concat(a,"/subscribers/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){var n;throw Error(null!==(n=(await e.json()).message)&&void 0!==n?n:"Subscriber signup failed")}return e.json()}async function j(){let t=await fetch("".concat(a,"/subscribers/push-public-key"),{method:"GET",cache:"no-store"});if(!t.ok)throw Error("Unable to fetch push public key");return t.json()}async function v(t){let e=await fetch("".concat(a,"/subscribers/push"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){var n;throw Error(null!==(n=(await e.json()).message)&&void 0!==n?n:"Push subscription failed")}return e.json()}async function S(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new URLSearchParams;n.page&&r.set("page",String(n.page)),n.limit&&r.set("limit",String(n.limit)),(null===(e=n.q)||void 0===e?void 0:e.trim())&&r.set("q",n.q.trim());let o=await fetch("".concat(a,"/subscribers/admin/email?").concat(r.toString()),{method:"GET",headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(!o.ok)throw Error("Unable to fetch subscribers");return o.json()}async function N(t,e,n){let r=await fetch("".concat(a,"/subscribers/admin/email/").concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({isActive:n})});if(!r.ok)throw Error("Unable to update subscriber");return r.json()}async function E(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=new URLSearchParams({page:String(e),limit:String(n)}),o=await fetch("".concat(a,"/comments/post/").concat(encodeURIComponent(t),"?").concat(r.toString()),{method:"GET",cache:"no-store"});if(!o.ok)throw Error("Unable to fetch comments");return o.json()}async function k(t,e,n){let r=await fetch("".concat(a,"/comments/post/").concat(encodeURIComponent(e)),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({content:n})});if(!r.ok){var o;throw Error(null!==(o=(await r.json()).message)&&void 0!==o?o:"Unable to post comment")}return r.json()}},8685:function(t,e,n){"use strict";n.d(e,{NJ:function(){return o},av:function(){return s},s3:function(){return i},vM:function(){return c}});let r="subscriber_opted_in",a="subscriber_exit_modal_dismissed";function o(){return"1"===localStorage.getItem(r)}function i(){localStorage.setItem(r,"1")}function s(){let t=Date.now()+864e5;localStorage.setItem(a,String(t))}function c(){let t=localStorage.getItem(a);if(!t)return!0;let e=Number(t);return!Number.isFinite(e)||Date.now()>e}}},function(t){t.O(0,[231,971,23,744],function(){return t(t.s=8639)}),_N_E=t.O()}]);